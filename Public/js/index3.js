function JS_Nav_Img(js_nav, js_img, js_width) { var pro_img = $("#" + js_img), pro_img_li = $("#" + js_img + " li"), pro_img_a = $("#" + js_nav + " a"); if (pro_img_a.length == 1) { pro_img_a.hide(); return } var pro_nav_current = 0, pro_nav_index = 1; pro_img.css("width", js_width * pro_img_li.length + "px"); pro_img_a.each(function (index) { this._key = index; this.onmouseover = function () { pro_nav_index = this._key; clearInterval(pro_auto); pro_autoRun() }; this.onmouseout = function () { pro_auto = setInterval(function () { pro_autoRun() }, 5000) } }); var pro_autoRun = function () { pro_img_a.eq(pro_nav_current).removeClass("current"); pro_img_a.eq(pro_nav_index).addClass("current"); pro_img.animate({ marginLeft: (0 - pro_nav_index) * js_width + "px" }, 500); pro_nav_current = pro_nav_index; pro_nav_index = (pro_nav_index >= pro_img_a.length - 1) ? 0 : pro_nav_index + 1 }; var pro_auto = setInterval(function () { pro_autoRun() }, 5000) }
//宽屏轮换图
var side_stage = $("#JS_side_stage"), side_stage_li = $("#JS_side_stage li"), side_stage_a = $("#JS_side_nav a"), side_width = document.body.clientWidth; var nav_current = 0, nav_index = 1; side_stage_li.css("width", side_width + "px"); $(window).resize(function () { side_width = document.body.clientWidth; side_stage.css("width", side_width * side_stage_li.length + "px"); side_stage_li.css("width", side_width + "px"); nav_index = 0; autoRun() }); side_stage_a.each(function (index) { this._key = index; this.onmouseover = function () { nav_index = this._key; clearInterval(auto); autoRun() }; this.onmouseout = function () { auto = setInterval(function () { autoRun() }, 5000) } }); var autoRun = function () { side_stage_a.eq(nav_current).removeClass("current"); side_stage_a.eq(nav_index).addClass("current"); side_stage.animate({ marginLeft: (0 - nav_index) * side_width + "px" }, 500); nav_current = nav_index; nav_index = (nav_index >= side_stage_a.length - 1) ? 0 : nav_index + 1 }; var auto = setInterval(function () { autoRun() }, 5000);

//高端住宅/个性定制 轮换图
JS_Nav_Img("JS_pro_nav1", "JS_pro_img1", 473);
JS_Nav_Img("JS_pro_nav2", "JS_pro_img2", 473);
JS_Nav_Img("JS_pro_nav3", "JS_pro_img3", 473);
//工程案例翻页
function project_autoRun() { var c = $(".pro-fl li:lt(4)"); $(".pro-fl .lh").animate({ marginLeft: -234 * 4 + "px" }, 500, function () { $(".pro-fl li:lt(4)").remove(); $(".pro-fl .lh").append(c); $(".pro-fl .lh").css("margin-left", "0px") }) } var project_auto = setInterval(function () { project_autoRun() }, 5000); $(".pro-fl .prev").click(function () { var l = $(".pro-fl .lh li").length - 5; var c = $(".pro-fl li:gt(" + l + ")"); $(".pro-fl li:gt(" + l + ")").remove(); $(".pro-fl .lh").prepend(c).css("margin-left", -234 * 4 + "px"); $(".pro-fl .lh").animate({ marginLeft: "0px" }, 500) }); $(".pro-fl .next").click(function () { project_autoRun() }); $(".pro-fl").mouseover(function () { clearInterval(project_auto) }); $(".pro-fl").mouseout(function () { project_auto = setInterval(function () { project_autoRun() }, 5000) });
 